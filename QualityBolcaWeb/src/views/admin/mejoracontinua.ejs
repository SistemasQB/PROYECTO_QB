<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Mejora Continua</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<style>
    /* Reset y variables */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --color-primary: #0057B8;
    --color-secondary: #00B5CA;
    --color-dark: #2D2926;
    --color-gray: #75787B;
    --color-light-gray: #f9fafb;
    --color-white: #ffffff;
    --color-border: #e5e7eb;
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-error: #ef4444;
    --border-radius: 8px;
    --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: var(--color-light-gray);
    color: var(--color-dark);
    line-height: 1.6;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* Header */
.header {
    background-color: var(--color-white);
    border-bottom: 1px solid var(--color-border);
    box-shadow: var(--shadow);
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 0;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.logo {
    width: 2.5rem;
    height: 2.5rem;
    background-color: var(--color-secondary);
    border-radius: var(--border-radius);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-white);
    font-size: 1.25rem;
}

.header-text h1 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-dark);
    margin-bottom: 0.25rem;
}

.header-text p {
    font-size: 0.875rem;
    color: var(--color-gray);
}

/* Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border: none;
    border-radius: var(--border-radius);
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
}

.btn-primary {
    background-color: var(--color-primary);
    color: var(--color-white);
}

.btn-primary:hover {
    background-color: #004494;
}

.btn-secondary {
    background-color: transparent;
    color: var(--color-gray);
    border: 1px solid var(--color-border);
}

.btn-secondary:hover {
    background-color: var(--color-light-gray);
}

/* Main Content */
.main {
    padding: 2rem 0;
}

.main-header {
    margin-bottom: 1.5rem;
}

.main-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 0.5rem;
}

.main-header p {
    color: var(--color-gray);
}

/* Empty State */
.empty-state {
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    padding: 3rem;
    text-align: center;
    box-shadow: var(--shadow);
}

.empty-icon {
    font-size: 3rem;
    color: var(--color-gray);
    margin-bottom: 1rem;
}

.empty-content h3 {
    font-size: 1.125rem;
    font-weight: 500;
    color: var(--color-dark);
    margin-bottom: 0.5rem;
}

.empty-content p {
    color: var(--color-gray);
    margin-bottom: 1rem;
}

/* Mejoras Grid */
.mejoras-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.5rem;
}

.mejora-card {
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    transition: box-shadow 0.2s;
    overflow: hidden;
}

.mejora-card:hover {
    box-shadow: var(--shadow-lg);
}

.card-header {
    padding: 1.5rem 1.5rem 0.75rem;
}

.card-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 0.75rem;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.card-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 0.875rem;
    color: var(--color-gray);
}

.card-content {
    padding: 0 1.5rem 1.5rem;
}

.card-section {
    margin-bottom: 1rem;
}

.card-section:last-child {
    margin-bottom: 0;
}

.card-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    margin-bottom: 0.5rem;
}

.card-info i {
    color: var(--color-gray);
    width: 1rem;
}

.card-info .name {
    font-weight: 500;
    color: var(--color-dark);
}

.card-info .location {
    color: var(--color-gray);
}

.section-title {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-dark);
    margin-bottom: 0.5rem;
}

.section-text {
    font-size: 0.875rem;
    color: var(--color-gray);
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Badges */
.badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
}

.badge {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: 0.375rem;
    border: 1px solid;
}

.badge-investment {
    background-color: #fef3c7;
    color: #92400e;
    border-color: #fcd34d;
}

.badge-material {
    background-color: #dcfce7;
    color: #166534;
    border-color: #bbf7d0;
}

.badge-economic {
    background-color: #dbeafe;
    color: #1e40af;
    border-color: #93c5fd;
}

.badge-time {
    background-color: #e9d5ff;
    color: #7c3aed;
    border-color: #c4b5fd;
}

.badge-work {
    background-color: #fed7aa;
    color: #ea580c;
    border-color: #fdba74;
}

.badge-environment {
    background-color: #fce7f3;
    color: #be185d;
    border-color: #f9a8d4;
}

.badge-sustainable {
    background-color: #d1fae5;
    color: #065f46;
    border-color: #a7f3d0;
}

.badge-effectiveness {
    background-color: #e0e7ff;
    color: #3730a3;
    border-color: #c7d2fe;
}

.badge-impact {
    background-color: #fee2e2;
    color: #991b1b;
    border-color: #fca5a5;
}

.badge-organization {
    background-color: #fef3c7;
    color: #92400e;
    border-color: #fcd34d;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    overflow-y: auto;
}

.modal.show {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 2rem 1rem;
}

.modal-content {
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    width: 100%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-lg);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--color-border);
}

.modal-header h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-dark);
}

.close-btn {
    background: none;
    border: none;
    font-size: 1.25rem;
    color: var(--color-gray);
    cursor: pointer;
    padding: 0.25rem;
    border-radius: var(--border-radius);
    transition: background-color 0.2s;
}

.close-btn:hover {
    background-color: var(--color-light-gray);
}

/* Form */
.modal-form {
    padding: 1.5rem;
}

.form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-dark);
    margin-bottom: 0.75rem;
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-dark);
    margin-bottom: 0.25rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    font-size: 0.875rem;
    transition: border-color 0.2s;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(0, 87, 184, 0.1);
}

.checkbox-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 0.75rem;
}

.checkbox-item,
.radio-item {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}

.checkbox-item input,
.radio-item input {
    width: auto;
    margin-top: 0.125rem;
}

.checkbox-item label,
.radio-item label {
    font-size: 0.875rem;
    color: var(--color-dark);
    line-height: 1.4;
    cursor: pointer;
}

.radio-group {
    display: flex;
    gap: 1.5rem;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-border);
}

/* Responsive */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }

    .mejoras-grid {
        grid-template-columns: 1fr;
    }

    .form-row {
        grid-template-columns: 1fr;
    }

    .checkbox-grid {
        grid-template-columns: 1fr;
    }

    .radio-group {
        flex-direction: column;
        gap: 0.75rem;
    }

    .form-actions {
        flex-direction: column;
    }

    .modal {
        padding: 1rem;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 0 0.5rem;
    }

    .modal {
        padding: 0.5rem;
    }

    .modal-content {
        max-height: 95vh;
    }
}
</style>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="header-text">
                        <h1>Registro de Mejora Continua</h1>
                        <p>Sistema de gestión de mejoras Quality BOLCA</p>
                    </div>
                </div>
                <button id="openModalBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i>
                    Registrar Nueva Mejora
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="main-header">
                <h2>Mejoras Registradas</h2>
                <p id="totalMejoras">Total de mejoras: 2</p>
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-state" style="display: none;">
                <div class="empty-content">
                    <i class="fas fa-lightbulb empty-icon"></i>
                    <h3>No hay mejoras registradas</h3>
                    <p>Comienza registrando tu primera mejora continua</p>
                    <button class="btn btn-primary open-modal-btn">
                        <i class="fas fa-plus"></i>
                        Registrar Primera Mejora
                    </button>
                </div>
            </div>

            <!-- Mejoras Grid -->
            <div id="mejorasGrid" class="mejoras-grid">
                <!-- Las mejoras se cargarán aquí dinámicamente -->
            </div>
        </div>
    </main>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Registro de Mejora Continua</h2>
                <button id="closeModalBtn" class="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="mejoraForm" class="modal-form">
                <!-- Información Personal -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="nombreMejora">Nombre de la Mejora *</label>
                        <input type="text" id="nombreMejora" name="nombreMejora" required>
                    </div>
                    <div class="form-group">
                        <label for="nombre">Nombre *</label>
                        <input type="text" id="nombre" name="nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="email">E-mail *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="puesto">Puesto *</label>
                        <input type="text" id="puesto" name="puesto" required>
                    </div>
                    <div class="form-group">
                        <label for="proceso">Proceso al que Perteneces *</label>
                        <input type="text" id="proceso" name="proceso" required>
                    </div>
                    <div class="form-group">
                        <label for="region">Región donde Aplica la Mejora *</label>
                        <select id="region" name="region" required>
                            <option value="">Seleccionar región</option>
                            <option value="Norte">Norte</option>
                            <option value="Centro">Centro</option>
                            <option value="Sur">Sur</option>
                            <option value="Este">Este</option>
                            <option value="Oeste">Oeste</option>
                        </select>
                    </div>
                </div>

                <!-- Tipo de Mejora -->
                <div class="form-group">
                    <label class="form-label">Tipo de Mejora y Beneficios *</label>
                    <div class="checkbox-grid">
                        <div class="checkbox-item">
                            <input type="checkbox" id="ahorro-material" name="tipoMejora" value="Genera un Ahorro Material">
                            <label for="ahorro-material">Genera un Ahorro Material</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="facilita-trabajo" name="tipoMejora" value="Facilita el Trabajo Diario">
                            <label for="facilita-trabajo">Facilita el Trabajo Diario</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="mejora-ambiente" name="tipoMejora" value="Mejora el Ambiente Laboral">
                            <label for="mejora-ambiente">Mejora el Ambiente Laboral</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="ahorro-economico" name="tipoMejora" value="Genera un Ahorro Económico">
                            <label for="ahorro-economico">Genera un Ahorro Económico</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="ahorra-tiempo" name="tipoMejora" value="Ahorra Tiempo">
                            <label for="ahorra-tiempo">Ahorra Tiempo</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="efectividad" name="tipoMejora" value="Efectividad en tu Proceso">
                            <label for="efectividad">Efectividad en tu Proceso</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="entorno-saludable" name="tipoMejora" value="Entorno Más Saludable y Sostenible">
                            <label for="entorno-saludable">Entorno Más Saludable y Sostenible</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="mitiga-impacto" name="tipoMejora" value="Mitiga el Impacto Negativo">
                            <label for="mitiga-impacto">Mitiga el Impacto Negativo de Cualquier Actividad en el Medio Ambiente</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="beneficio-organizacion" name="tipoMejora" value="Cambio en Beneficio de la Organización">
                            <label for="beneficio-organizacion">Cambio en Beneficio de la Organización</label>
                        </div>
                    </div>
                </div>

                <!-- Requiere Inversión -->
                <div class="form-group">
                    <label class="form-label">¿Requiere Inversión? *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="inversion-si" name="requiereInversion" value="true" required>
                            <label for="inversion-si">Sí</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="inversion-no" name="requiereInversion" value="false" required>
                            <label for="inversion-no">No</label>
                        </div>
                    </div>
                </div>

                <!-- Situación Actual -->
                <div class="form-group">
                    <label for="situacionActual">Situación Actual *</label>
                    <textarea id="situacionActual" name="situacionActual" rows="4" required placeholder="Describe la situación actual que requiere mejora..."></textarea>
                </div>

                <!-- Mejora Propuesta -->
                <div class="form-group">
                    <label for="mejoraProuesta">Mejora Propuesta *</label>
                    <textarea id="mejoraProuesta" name="mejoraProuesta" rows="4" required placeholder="Describe la mejora propuesta..."></textarea>
                </div>

                <!-- Botones -->
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Enviar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>

<script>
    // Estado de la aplicación
let mejoras = [
    {
        id: "1",
        nombreMejora: "Optimización del proceso de empaque",
        nombre: "María González",
        email: "maria.gonzalez@company.com",
        puesto: "Supervisor de Producción",
        proceso: "Empaque y Distribución",
        region: "Norte",
        tipoMejora: ["Ahorra Tiempo", "Genera un Ahorro Económico"],
        requiereInversion: false,
        situacionActual: "El proceso actual de empaque toma 15 minutos por unidad debido a pasos redundantes",
        mejoraProuesta: "Reorganizar la línea de empaque para eliminar movimientos innecesarios y reducir el tiempo a 10 minutos por unidad",
        fechaCreacion: "2024-01-15"
    },
    {
        id: "2",
        nombreMejora: "Implementación de sistema de reciclaje",
        nombre: "Carlos Rodríguez",
        email: "carlos.rodriguez@company.com",
        puesto: "Analista Ambiental",
        proceso: "Gestión de Residuos",
        region: "Centro",
        tipoMejora: ["Entorno Más Saludable y Sostenible", "Genera un Ahorro Material"],
        requiereInversion: true,
        situacionActual: "Los residuos se desechan sin clasificación, generando costos adicionales",
        mejoraProuesta: "Implementar contenedores de reciclaje y capacitar al personal para reducir residuos en 40%",
        fechaCreacion: "2024-01-10"
    }
];

// Elementos del DOM
const modal = document.getElementById('modal');
const openModalBtn = document.getElementById('openModalBtn');
const closeModalBtn = document.getElementById('closeModalBtn');
const cancelBtn = document.getElementById('cancelBtn');
const mejoraForm = document.getElementById('mejoraForm');
const mejorasGrid = document.getElementById('mejorasGrid');
const emptyState = document.getElementById('emptyState');
const totalMejoras = document.getElementById('totalMejoras');

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
    renderMejoras();
    updateTotalCount();
});

openModalBtn.addEventListener('click', openModal);
closeModalBtn.addEventListener('click', closeModal);
cancelBtn.addEventListener('click', closeModal);
mejoraForm.addEventListener('submit', handleSubmit);

// Event listener para botones de "abrir modal" en empty state
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('open-modal-btn')) {
        openModal();
    }
});

// Cerrar modal al hacer clic fuera
modal.addEventListener('click', function(e) {
    if (e.target === modal) {
        closeModal();
    }
});

// Funciones
function openModal() {
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    modal.classList.remove('show');
    document.body.style.overflow = 'auto';
    resetForm();
}

function resetForm() {
    mejoraForm.reset();
}

function handleSubmit(e) {
    e.preventDefault();
    
    const formData = new FormData(mejoraForm);
    const tipoMejora = [];
    
    // Obtener todos los checkboxes seleccionados
    const checkboxes = document.querySelectorAll('input[name="tipoMejora"]:checked');
    checkboxes.forEach(checkbox => {
        tipoMejora.push(checkbox.value);
    });
    
    // Validar que al menos un tipo de mejora esté seleccionado
    if (tipoMejora.length === 0) {
        alert('Por favor selecciona al menos un tipo de mejora.');
        return;
    }
    
    const nuevaMejora = {
        id: Date.now().toString(),
        nombreMejora: formData.get('nombreMejora'),
        nombre: formData.get('nombre'),
        email: formData.get('email'),
        puesto: formData.get('puesto'),
        proceso: formData.get('proceso'),
        region: formData.get('region'),
        tipoMejora: tipoMejora,
        requiereInversion: formData.get('requiereInversion') === 'true',
        situacionActual: formData.get('situacionActual'),
        mejoraProuesta: formData.get('mejoraProuesta'),
        fechaCreacion: new Date().toISOString().split('T')[0]
    };
    
    mejoras.unshift(nuevaMejora);
    renderMejoras();
    updateTotalCount();
    closeModal();
}

function renderMejoras() {
    if (mejoras.length === 0) {
        emptyState.style.display = 'block';
        mejorasGrid.style.display = 'none';
    } else {
        emptyState.style.display = 'none';
        mejorasGrid.style.display = 'grid';
        
        mejorasGrid.innerHTML = mejoras.map(mejora => createMejoraCard(mejora)).join('');
    }
}

function createMejoraCard(mejora) {
    const fechaFormateada = new Date(mejora.fechaCreacion).toLocaleDateString('es-ES');
    const badgesHtml = mejora.tipoMejora.map(tipo => 
        `<span class="badge ${getBadgeClass(tipo)}">${tipo}</span>`
    ).join('');
    
    return `
        <div class="mejora-card">
            <div class="card-header">
                <h3 class="card-title">${mejora.nombreMejora}</h3>
                <div class="card-meta">
                    <div>
                        <i class="fas fa-calendar"></i>
                        ${fechaFormateada}
                    </div>
                    ${mejora.requiereInversion ? '<span class="badge badge-investment">Requiere Inversión</span>' : ''}
                </div>
            </div>
            <div class="card-content">
                <div class="card-section">
                    <div class="card-info">
                        <i class="fas fa-user"></i>
                        <span class="name">${mejora.nombre}</span>
                    </div>
                    <div class="card-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span class="location">${mejora.region} - ${mejora.proceso}</span>
                    </div>
                </div>
                
                <div class="card-section">
                    <div class="section-title">Beneficios:</div>
                    <div class="badges">
                        ${badgesHtml}
                    </div>
                </div>
                
                <div class="card-section">
                    <div class="section-title">Situación Actual:</div>
                    <div class="section-text">${mejora.situacionActual}</div>
                </div>
                
                <div class="card-section">
                    <div class="section-title">Mejora Propuesta:</div>
                    <div class="section-text">${mejora.mejoraProuesta}</div>
                </div>
            </div>
        </div>
    `;
}

function getBadgeClass(tipo) {
    const badgeClasses = {
        "Genera un Ahorro Material": "badge-material",
        "Genera un Ahorro Económico": "badge-economic",
        "Ahorra Tiempo": "badge-time",
        "Facilita el Trabajo Diario": "badge-work",
        "Mejora el Ambiente Laboral": "badge-environment",
        "Entorno Más Saludable y Sostenible": "badge-sustainable",
        "Efectividad en tu Proceso": "badge-effectiveness",
        "Mitiga el Impacto Negativo": "badge-impact",
        "Cambio en Beneficio de la Organización": "badge-organization"
    };
    
    return badgeClasses[tipo] || "badge-organization";
}

function updateTotalCount() {
    totalMejoras.textContent = `Total de mejoras: ${mejoras.length}`;
}
</script>

</html>