<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Tickets</title>
    <meta name="csrf-token" content="<%= csrfToken %>">
    <link rel="stylesheet" href="/styles/sistemas/estilos_administracion_tickets.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-ticket-alt"></i> Sistema de Gestión de Tickets</h1>
        </header>

        <div class="controls-section">
            <div class="search-controls">
                <div class="search-group">
                    <select id="searchCriteria" class="search-select">
                        <option value="folio">Folio</option>
                        <option value="categoria">Categoría</option>
                        <option value="usuario">Usuario</option>
                        <option value="departamento">Departamento</option>
                        <option value="descripcion">Descripción</option>
                    </select>
                    <div class="search-input-wrapper">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" class="search-input" placeholder="Buscar tickets...">
                    </div>
                </div>
            </div>

            <div class="pagination-controls">
                <label for="itemsPerPage">Mostrar:</label>
                <select id="itemsPerPage" class="items-select">
                    <option value="20" selected>20 por página</option>
                    <option value="50">50 por página</option>
                    <option value="100">100 por página</option>
                </select>
            </div>
        </div>

        <div class="table-container">
            <table class="data-table" id="ticketsTable">
                <thead>
                    <tr>
                        <th><i class="fas fa-hashtag"></i> Folio</th>
                        <th><i class="fas fa-heading"></i> Título</th>
                        <th><i class="fas fa-folder"></i> Categoría</th>
                        <th><i class="fas fa-exclamation-circle"></i> Prioridad</th>
                        <th><i class="fas fa-file-alt"></i> Descripción del Problema</th>
                        <th><i class="fas fa-user"></i> Usuario</th>
                        <th><i class="fas fa-building"></i> Departamento</th>
                        <th><i class="fas fa-info-circle"></i> Estatus</th>
                        <th><i class="fas fa-cog"></i> Acciones</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Los datos se cargarán dinámicamente -->
                </tbody>
            </table>
        </div>

        <div class="pagination-footer">
            <div class="pagination-info">
                Mostrando <span id="showingStart">1</span> - <span id="showingEnd">20</span> de <span id="totalItems">0</span> tickets
            </div>
            <div class="pagination-buttons">
                <button class="pagination-btn" id="firstPage" title="Primera página">
                    <i class="fas fa-angle-double-left"></i>
                </button>
                <button class="pagination-btn" id="prevPage" title="Página anterior">
                    <i class="fas fa-angle-left"></i>
                </button>
                <span class="page-numbers" id="pageNumbers"></span>
                <button class="pagination-btn" id="nextPage" title="Página siguiente">
                    <i class="fas fa-angle-right"></i>
                </button>
                <button class="pagination-btn" id="lastPage" title="Última página">
                    <i class="fas fa-angle-double-right"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="/scripts/sistemas/scripts_administracion_tickets.js"></script>
</body>
</html>